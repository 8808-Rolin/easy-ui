(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5af52a4b"],{"0a49":function(e,t,n){var i=n("9b43"),s=n("626a"),a=n("4bf8"),o=n("9def"),r=n("cd1c");e.exports=function(e,t){var n=1==e,c=2==e,l=3==e,h=4==e,u=6==e,d=5==e||u,p=t||r;return function(t,r,g){for(var f,m,v=a(t),w=s(v),b=i(r,g,3),x=o(w.length),y=0,_=n?p(t,x):c?p(t,0):void 0;x>y;y++)if((d||y in w)&&(f=w[y],m=b(f,y,v),e))if(n)_[y]=m;else if(m)switch(e){case 3:return!0;case 5:return f;case 6:return y;case 2:_.push(f)}else if(h)return!1;return u?-1:l||h?h:_}}},1069:function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(){"use strict";var e={358:function(e,t,n){var i=n(81),s=n.n(i),a=n(645),o=n.n(a)()(s());o.push([e.id,".vue-puzzle-vcode {\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.3);\n  z-index: 999;\n  opacity: 0;\n  pointer-events: none;\n  -webkit-transition: opacity 200ms;\n  transition: opacity 200ms;\n}\n.vue-puzzle-vcode.show_ {\n  opacity: 1;\n  pointer-events: auto;\n}\n.vue-auth-box_ {\n  position: absolute;\n  top: 40%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  padding: 20px;\n  background: #fff;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  border-radius: 3px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\n}\n.vue-auth-box_ .auth-body_ {\n  position: relative;\n  overflow: hidden;\n  border-radius: 3px;\n}\n.vue-auth-box_ .auth-body_ .loading-box_ {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 20;\n  opacity: 1;\n  -webkit-transition: opacity 200ms;\n  transition: opacity 200ms;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n}\n.vue-auth-box_ .auth-body_ .loading-box_.hide_ {\n  opacity: 0;\n  pointer-events: none;\n}\n.vue-auth-box_ .auth-body_ .loading-box_.hide_ .loading-gif_ span {\n  -webkit-animation-play-state: paused;\n          animation-play-state: paused;\n}\n.vue-auth-box_ .auth-body_ .loading-box_ .loading-gif_ {\n  -webkit-box-flex: 0;\n  -webkit-flex: none;\n          flex: none;\n  height: 5px;\n  line-height: 0;\n}\n@-webkit-keyframes load {\n0% {\n    opacity: 1;\n    -webkit-transform: scale(1.3);\n            transform: scale(1.3);\n}\n100% {\n    opacity: 0.2;\n    -webkit-transform: scale(0.3);\n            transform: scale(0.3);\n}\n}\n@keyframes load {\n0% {\n    opacity: 1;\n    -webkit-transform: scale(1.3);\n            transform: scale(1.3);\n}\n100% {\n    opacity: 0.2;\n    -webkit-transform: scale(0.3);\n            transform: scale(0.3);\n}\n}\n.vue-auth-box_ .auth-body_ .loading-box_ .loading-gif_ span {\n  display: inline-block;\n  width: 5px;\n  height: 100%;\n  margin-left: 2px;\n  border-radius: 50%;\n  background-color: #888;\n  -webkit-animation: load 1.04s ease infinite;\n          animation: load 1.04s ease infinite;\n}\n.vue-auth-box_ .auth-body_ .loading-box_ .loading-gif_ span:nth-child(1) {\n  margin-left: 0;\n}\n.vue-auth-box_ .auth-body_ .loading-box_ .loading-gif_ span:nth-child(2) {\n  -webkit-animation-delay: 0.13s;\n          animation-delay: 0.13s;\n}\n.vue-auth-box_ .auth-body_ .loading-box_ .loading-gif_ span:nth-child(3) {\n  -webkit-animation-delay: 0.26s;\n          animation-delay: 0.26s;\n}\n.vue-auth-box_ .auth-body_ .loading-box_ .loading-gif_ span:nth-child(4) {\n  -webkit-animation-delay: 0.39s;\n          animation-delay: 0.39s;\n}\n.vue-auth-box_ .auth-body_ .loading-box_ .loading-gif_ span:nth-child(5) {\n  -webkit-animation-delay: 0.52s;\n          animation-delay: 0.52s;\n}\n.vue-auth-box_ .auth-body_ .info-box_ {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 24px;\n  line-height: 24px;\n  text-align: center;\n  overflow: hidden;\n  font-size: 13px;\n  background-color: #83ce3f;\n  opacity: 0;\n  -webkit-transform: translateY(24px);\n          transform: translateY(24px);\n  -webkit-transition: all 200ms;\n  transition: all 200ms;\n  color: #fff;\n  z-index: 10;\n}\n.vue-auth-box_ .auth-body_ .info-box_.show {\n  opacity: 0.95;\n  -webkit-transform: translateY(0);\n          transform: translateY(0);\n}\n.vue-auth-box_ .auth-body_ .info-box_.fail {\n  background-color: #ce594b;\n}\n.vue-auth-box_ .auth-body_ .auth-canvas2_ {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 60px;\n  height: 100%;\n  z-index: 2;\n}\n.vue-auth-box_ .auth-body_ .auth-canvas3_ {\n  position: absolute;\n  top: 0;\n  left: 0;\n  opacity: 0;\n  -webkit-transition: opacity 600ms;\n  transition: opacity 600ms;\n  z-index: 3;\n}\n.vue-auth-box_ .auth-body_ .auth-canvas3_.show {\n  opacity: 1;\n}\n.vue-auth-box_ .auth-body_ .flash_ {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 30px;\n  height: 100%;\n  background-color: rgba(255, 255, 255, 0.1);\n  z-index: 3;\n}\n.vue-auth-box_ .auth-body_ .flash_.show {\n  -webkit-transition: -webkit-transform 600ms;\n  transition: -webkit-transform 600ms;\n  transition: transform 600ms;\n  transition: transform 600ms, -webkit-transform 600ms;\n}\n.vue-auth-box_ .auth-body_ .reset_ {\n  position: absolute;\n  top: 2px;\n  right: 2px;\n  width: 35px;\n  height: auto;\n  z-index: 12;\n  cursor: pointer;\n  -webkit-transition: -webkit-transform 200ms;\n  transition: -webkit-transform 200ms;\n  transition: transform 200ms;\n  transition: transform 200ms, -webkit-transform 200ms;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n}\n.vue-auth-box_ .auth-body_ .reset_:hover {\n  -webkit-transform: rotate(-90deg);\n          transform: rotate(-90deg);\n}\n.vue-auth-box_ .auth-control_ .range-box {\n  position: relative;\n  width: 100%;\n  background-color: #eef1f8;\n  margin-top: 20px;\n  border-radius: 3px;\n  box-shadow: 0 0 8px rgba(240, 240, 240, 0.6) inset;\n}\n.vue-auth-box_ .auth-control_ .range-box .range-text {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  font-size: 14px;\n  color: #b7bcd1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-align: center;\n  width: 100%;\n}\n.vue-auth-box_ .auth-control_ .range-box .range-slider {\n  position: absolute;\n  height: 100%;\n  width: 50px;\n  background-color: rgba(106, 160, 255, 0.8);\n  border-radius: 3px;\n}\n.vue-auth-box_ .auth-control_ .range-box .range-slider .range-btn {\n  position: absolute;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n  right: 0;\n  width: 50px;\n  height: 100%;\n  background-color: #fff;\n  border-radius: 3px;\n  box-shadow: 0 0 4px #ccc;\n  cursor: pointer;\n}\n.vue-auth-box_ .auth-control_ .range-box .range-slider .range-btn > div {\n  width: 0;\n  height: 40%;\n  -webkit-transition: all 200ms;\n  transition: all 200ms;\n  border: solid 1px #6aa0ff;\n}\n.vue-auth-box_ .auth-control_ .range-box .range-slider .range-btn > div:nth-child(2) {\n  margin: 0 4px;\n}\n.vue-auth-box_ .auth-control_ .range-box .range-slider .range-btn:hover > div:first-child,\n.vue-auth-box_ .auth-control_ .range-box .range-slider .range-btn.isDown > div:first-child {\n  border: solid 4px transparent;\n  height: 0;\n  border-right-color: #6aa0ff;\n}\n.vue-auth-box_ .auth-control_ .range-box .range-slider .range-btn:hover > div:nth-child(2),\n.vue-auth-box_ .auth-control_ .range-box .range-slider .range-btn.isDown > div:nth-child(2) {\n  border-width: 3px;\n  height: 0;\n  border-radius: 3px;\n  margin: 0 6px;\n  border-right-color: #6aa0ff;\n}\n.vue-auth-box_ .auth-control_ .range-box .range-slider .range-btn:hover > div:nth-child(3),\n.vue-auth-box_ .auth-control_ .range-box .range-slider .range-btn.isDown > div:nth-child(3) {\n  border: solid 4px transparent;\n  height: 0;\n  border-left-color: #6aa0ff;\n}\n.vue-puzzle-overflow {\n  overflow: hidden !important;\n}\n",""]),t.Z=o},645:function(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,i,s,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(i)for(var r=0;r<this.length;r++){var c=this[r][0];null!=c&&(o[c]=!0)}for(var l=0;l<e.length;l++){var h=[].concat(e[l]);i&&o[h[0]]||(void 0!==a&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=a),n&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=n):h[2]=n),s&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=s):h[4]="".concat(s)),t.push(h))}},t}},81:function(e){e.exports=function(e){return e[1]}},379:function(e){var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var a={},o=[],r=0;r<e.length;r++){var c=e[r],l=i.base?c[0]+i.base:c[0],h=a[l]||0,u="".concat(l," ").concat(h);a[l]=h+1;var d=n(u),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)t[d].references++,t[d].updater(p);else{var g=s(p,i);i.byIndex=r,t.splice(r,0,{identifier:u,updater:g,references:1})}o.push(u)}return o}function s(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,s){var a=i(e=e||[],s=s||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var r=n(a[o]);t[r].references--}for(var c=i(e,s),l=0;l<a.length;l++){var h=n(a[l]);0===t[h].references&&(t[h].updater(),t.splice(h,1))}a=c}}},569:function(e){var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:function(e){e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:function(e,t,n){e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:function(e){e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var s=void 0!==n.layer;s&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,s&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:function(e){e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var a=t[i]={id:i,exports:{}};return e[i](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){n.r(i),n.d(i,{default:function(){return b}});var e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["vue-puzzle-vcode",{show_:e.show}],on:{mousedown:e.onCloseMouseDown,mouseup:e.onCloseMouseUp,touchstart:e.onCloseMouseDown,touchend:e.onCloseMouseUp}},[n("div",{staticClass:"vue-auth-box_",on:{mousedown:function(e){e.stopPropagation()},touchstart:function(e){e.stopPropagation()}}},[n("div",{staticClass:"auth-body_",style:"height: "+e.canvasHeight+"px"},[n("canvas",{ref:"canvas1",style:"width:"+e.canvasWidth+"px;height:"+e.canvasHeight+"px",attrs:{width:e.canvasWidth,height:e.canvasHeight}}),e._v(" "),n("canvas",{ref:"canvas3",class:["auth-canvas3_",{show:e.isSuccess}],style:"width:"+e.canvasWidth+"px;height:"+e.canvasHeight+"px",attrs:{width:e.canvasWidth,height:e.canvasHeight}}),e._v(" "),n("canvas",{ref:"canvas2",staticClass:"auth-canvas2_",style:"width:"+e.puzzleBaseSize+"px;height:"+e.canvasHeight+"px;transform:translateX("+(e.styleWidth-e.sliderBaseSize-(e.puzzleBaseSize-e.sliderBaseSize)*((e.styleWidth-e.sliderBaseSize)/(e.canvasWidth-e.sliderBaseSize)))+"px)",attrs:{width:e.puzzleBaseSize,height:e.canvasHeight}}),e._v(" "),n("div",{class:["loading-box_",{hide_:!e.loading}]},[e._m(0)]),e._v(" "),n("div",{class:["info-box_",{show:e.infoBoxShow},{fail:e.infoBoxFail}]},[e._v("\n        "+e._s(e.infoText)+"\n      ")]),e._v(" "),n("div",{class:["flash_",{show:e.isSuccess}],style:"transform: translateX("+(e.isSuccess?e.canvasWidth+.578*e.canvasHeight+"px":"-"+.578*e.canvasHeight+"px")+") skew(-30deg, 0);"}),e._v(" "),n("img",{staticClass:"reset_",attrs:{src:e.resetSvg},on:{click:e.reset}})]),e._v(" "),n("div",{staticClass:"auth-control_"},[n("div",{staticClass:"range-box",style:"height:"+e.sliderBaseSize+"px"},[n("div",{staticClass:"range-text"},[e._v(e._s(e.sliderText))]),e._v(" "),n("div",{ref:"range-slider",staticClass:"range-slider",style:"width:"+e.styleWidth+"px"},[n("div",{class:["range-btn",{isDown:e.mouseDown}],style:"width:"+e.sliderBaseSize+"px",on:{mousedown:function(t){return e.onRangeMouseDown(t)},touchstart:function(t){return e.onRangeMouseDown(t)}}},[n("div"),e._v(" "),n("div"),e._v(" "),n("div")])])])])])])};e._withStripped=!0;var t={props:{canvasWidth:{type:Number,default:310},canvasHeight:{type:Number,default:160},show:{type:Boolean,default:!1},puzzleScale:{type:Number,default:1},sliderSize:{type:Number,default:50},range:{type:Number,default:10},imgs:{type:Array},successText:{type:String,default:"验证通过！"},failText:{type:String,default:"验证失败，请重试"},sliderText:{type:String,default:"拖动滑块完成拼图"}},data:()=>({mouseDown:!1,startWidth:50,startX:0,newX:0,pinX:0,pinY:0,loading:!1,isCanSlide:!1,error:!1,infoBoxShow:!1,infoText:"",infoBoxFail:!1,timer1:null,closeDown:!1,isSuccess:!1,imgIndex:-1,isSubmting:!1,resetSvg:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAELklEQVRYR+2YW2wUZRTH//9vtlCoF9IoIklT3PqgPGi326hoetuaGEhIr9SgCYkkgt2WGOQVCca+GavWdr0GjD4YhG3RB3hply1LQA1tEQIxEXapGI2pEkys9LIzx2ylYWfY6e5sF0oi+7hzzvl+3/9855xvhrjNf7zN+XAHcL4Z+n8o6JWTeYt++W25S596AIZy6TB+n3yo+Nchlk8vmIIVowdXU9c3Q1gDSilBlQwjgBAYFGDvdF58/4milqvZwDpOcXWsb5Uh8hmBqkwXFMhlCN8aX5LXNbRy/T+Z+iXsHAFWRXs3QGQPyLucLDJrK5DgUXdTsxPfjAEro8E3Ce50EtxsKxPTwCPH3U2jTmJkBJgWTnAMxDeGMEoa0xQ+LJQnCD4HYFkCyAC3RdwN3U7gMkpxRTTYrMD91sCJIgCxV5R6O1Jcfy7VwonqLoj9/CqB2kF341qncGkBvRe+ureAWpRgoalCBecMFzcdK24YymZRJz5zprgq1tsJwXYL3CVZGvdGHmwZc7JQtra2gE+f712ep2QUYP714DJhaJrXLqXZQszlZwtYdSHoB9ljVk/ePVrSZFL0ZkAlxzQBVseCT8WhZhRThtFB8plk9Zi/qCi8cv0fNxvKFrDy4oF11NXXIFy2EII4iBcG3Y03VLZT8OqRd5aFPduvOEpxRayvXolxAKB2g6NgEhobBlc1HHYKY7WvHf5wtVAPgegIlbbZ9seUZ7AyFnwewi9pGoUyDmhrB931kfnC1ZwOeKlLP8GZJi6QLSFP2yep4toXSbT3ZQAfX3O6omt8Nhd9r/aHQAUMOQywYBZo5uZD2ThQ2rbPCjlnH6yI9rUryE5DU75ctJaake46Be4DuDjF8dFBNA94/AdtiySVxIlpMlTS8td801o70vMigM9huTda2lhcKHVHPO2HZv/P6LIwX7hk/+qzPSvUJGMkrg8AQYTkroRdXMlE+HH/twsG6BsOdJHYZlaO/lBZ6weOiiSXqs3Gqj0TeAxx+T75DIpgwjC0onD51pQD4JaluPrkR/cpFT9DcoVp84LOgTL/DjtBbglgou+puHwB8lEznPxJw1XSX77VtgizBvQNBw4RMqB7xt4Lc3c8lQKJaQHoO4R8ydz0/7MWoCXk8c85MrMC9J3qaafw/WtQlwXST+F3BnAeYB4obgJ1BJIuG+YtiKAjVOZ/Pd1ZdwzoG+4uBtSPpjaRbhXLcwF3hzytb2TilgVgT5BkYybBrTYC+Rvg5nRpdTRJrIs8+VPXPQXj2i4ItxC4O2NQQUQnN4U9rRcz9nH64p4ceM2lziX5Y4s3KHCdUHwE77ecMkMEp6BwhIa2Z6DslZRvfulgHafYLuCas58WLp2aLCFUga70qxOFU6dPFL2W1feYeaU43Y5z/TxnCuYabMEuC043ckdBp4pZ7f8FE5psOI1g6fwAAAAASUVORK5CYII="}),mounted(){document.body.appendChild(this.$el),document.addEventListener("mousemove",this.onRangeMouseMove,!1),document.addEventListener("mouseup",this.onRangeMouseUp,!1),document.addEventListener("touchmove",this.onRangeMouseMove,{passive:!1}),document.addEventListener("touchend",this.onRangeMouseUp,!1),this.show&&(document.body.classList.add("vue-puzzle-overflow"),this.reset())},beforeDestroy(){clearTimeout(this.timer1),document.body.removeChild(this.$el),document.removeEventListener("mousemove",this.onRangeMouseMove,!1),document.removeEventListener("mouseup",this.onRangeMouseUp,!1),document.removeEventListener("touchmove",this.onRangeMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onRangeMouseUp,!1)},watch:{show(e){e?(document.body.classList.add("vue-puzzle-overflow"),this.reset()):(this.isSubmting=!1,this.isSuccess=!1,this.infoBoxShow=!1,document.body.classList.remove("vue-puzzle-overflow"))}},computed:{styleWidth(){const e=this.startWidth+this.newX-this.startX;return e<this.sliderBaseSize?this.sliderBaseSize:e>this.canvasWidth?this.canvasWidth:e},puzzleBaseSize(){return Math.round(52.5*Math.max(Math.min(this.puzzleScale,2),.2)+6)},sliderBaseSize(){return Math.max(Math.min(Math.round(this.sliderSize),Math.round(.5*this.canvasWidth)),10)}},methods:{onClose(){this.mouseDown||(clearTimeout(this.timer1),this.$emit("close"))},onCloseMouseDown(){this.closeDown=!0},onCloseMouseUp(){this.closeDown&&this.onClose(),this.closeDown=!1},onRangeMouseDown(e){this.isCanSlide&&(this.mouseDown=!0,this.startWidth=this.$refs["range-slider"].clientWidth,this.newX=e.clientX||e.changedTouches[0].clientX,this.startX=e.clientX||e.changedTouches[0].clientX)},onRangeMouseMove(e){this.mouseDown&&(e.preventDefault(),this.newX=e.clientX||e.changedTouches[0].clientX)},onRangeMouseUp(){this.mouseDown&&(this.mouseDown=!1,this.submit())},init(e){if(this.loading&&!e)return;this.loading=!0,this.isCanSlide=!1;const t=this.$refs.canvas1,n=this.$refs.canvas2,i=this.$refs.canvas3,s=t.getContext("2d"),a=n.getContext("2d"),o=i.getContext("2d"),r=navigator.userAgent.indexOf("Firefox")>=0&&navigator.userAgent.indexOf("Windows")>=0,c=document.createElement("img");if(s.fillStyle="rgba(255,255,255,1)",o.fillStyle="rgba(255,255,255,1)",s.clearRect(0,0,this.canvasWidth,this.canvasHeight),a.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.pinX=this.getRandom(this.puzzleBaseSize,this.canvasWidth-this.puzzleBaseSize-20),this.pinY=this.getRandom(20,this.canvasHeight-this.puzzleBaseSize-20),c.crossOrigin="anonymous",c.onload=()=>{const[e,t,n,i]=this.makeImgSize(c);s.save(),this.paintBrick(s),s.closePath(),r?(s.clip(),s.save(),s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowColor="#000",s.shadowBlur=3,s.fill(),s.restore()):(s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowColor="#000",s.shadowBlur=3,s.fill(),s.clip()),s.drawImage(c,e,t,n,i),o.fillRect(0,0,this.canvasWidth,this.canvasHeight),o.drawImage(c,e,t,n,i),s.globalCompositeOperation="source-atop",this.paintBrick(s),s.arc(this.pinX+Math.ceil(this.puzzleBaseSize/2),this.pinY+Math.ceil(this.puzzleBaseSize/2),1.2*this.puzzleBaseSize,0,2*Math.PI,!0),s.closePath(),s.shadowColor="rgba(255, 255, 255, .8)",s.shadowOffsetX=-1,s.shadowOffsetY=-1,s.shadowBlur=Math.min(Math.ceil(8*this.puzzleScale),12),s.fillStyle="#ffffaa",s.fill();const l=s.getImageData(this.pinX-3,this.pinY-20,this.pinX+this.puzzleBaseSize+5,this.pinY+this.puzzleBaseSize+5);a.putImageData(l,0,this.pinY-20),s.restore(),s.clearRect(0,0,this.canvasWidth,this.canvasHeight),s.save(),this.paintBrick(s),s.globalAlpha=.8,s.fillStyle="#ffffff",s.fill(),s.restore(),s.save(),s.globalCompositeOperation="source-atop",this.paintBrick(s),s.arc(this.pinX+Math.ceil(this.puzzleBaseSize/2),this.pinY+Math.ceil(this.puzzleBaseSize/2),1.2*this.puzzleBaseSize,0,2*Math.PI,!0),s.shadowColor="#000",s.shadowOffsetX=2,s.shadowOffsetY=2,s.shadowBlur=16,s.fill(),s.restore(),s.save(),s.globalCompositeOperation="destination-over",s.drawImage(c,e,t,n,i),s.restore(),this.loading=!1,this.isCanSlide=!0},c.onerror=()=>{this.init(!0)},!e&&this.imgs&&this.imgs.length){let e=this.getRandom(0,this.imgs.length-1);e===this.imgIndex&&(e===this.imgs.length-1?e=0:e++),this.imgIndex=e,c.src=this.imgs[e]}else c.src=this.makeImgWithCanvas()},getRandom:(e,t)=>Math.ceil(Math.random()*(t-e)+e),makeImgSize(e){const t=e.width/e.height;let n=0,i=0,s=0,a=0;return t>this.canvasWidth/this.canvasHeight?(a=this.canvasHeight,s=t*a,i=0,n=(this.canvasWidth-s)/2):(s=this.canvasWidth,a=s/t,n=0,i=(this.canvasHeight-a)/2),[n,i,s,a]},paintBrick(e){const t=Math.ceil(15*this.puzzleScale);e.beginPath(),e.moveTo(this.pinX,this.pinY),e.lineTo(this.pinX+t,this.pinY),e.arcTo(this.pinX+t,this.pinY-t/2,this.pinX+t+t/2,this.pinY-t/2,t/2),e.arcTo(this.pinX+t+t,this.pinY-t/2,this.pinX+t+t,this.pinY,t/2),e.lineTo(this.pinX+t+t+t,this.pinY),e.lineTo(this.pinX+t+t+t,this.pinY+t),e.arcTo(this.pinX+t+t+t+t/2,this.pinY+t,this.pinX+t+t+t+t/2,this.pinY+t+t/2,t/2),e.arcTo(this.pinX+t+t+t+t/2,this.pinY+t+t,this.pinX+t+t+t,this.pinY+t+t,t/2),e.lineTo(this.pinX+t+t+t,this.pinY+t+t+t),e.lineTo(this.pinX,this.pinY+t+t+t),e.lineTo(this.pinX,this.pinY+t+t),e.arcTo(this.pinX+t/2,this.pinY+t+t,this.pinX+t/2,this.pinY+t+t/2,t/2),e.arcTo(this.pinX+t/2,this.pinY+t,this.pinX,this.pinY+t,t/2),e.lineTo(this.pinX,this.pinY)},makeImgWithCanvas(){const e=document.createElement("canvas"),t=e.getContext("2d");e.width=this.canvasWidth,e.height=this.canvasHeight,t.fillStyle=`rgb(${this.getRandom(100,255)},${this.getRandom(100,255)},${this.getRandom(100,255)})`,t.fillRect(0,0,this.canvasWidth,this.canvasHeight);for(let n=0;n<12;n++)if(t.fillStyle=`rgb(${this.getRandom(100,255)},${this.getRandom(100,255)},${this.getRandom(100,255)})`,t.strokeStyle=`rgb(${this.getRandom(100,255)},${this.getRandom(100,255)},${this.getRandom(100,255)})`,this.getRandom(0,2)>1)t.save(),t.rotate(this.getRandom(-90,90)*Math.PI/180),t.fillRect(this.getRandom(-20,e.width-20),this.getRandom(-20,e.height-20),this.getRandom(10,e.width/2+10),this.getRandom(10,e.height/2+10)),t.restore();else{t.beginPath();const n=this.getRandom(-Math.PI,Math.PI);t.arc(this.getRandom(0,e.width),this.getRandom(0,e.height),this.getRandom(10,e.height/2+10),n,n+1.5*Math.PI),t.closePath(),t.fill()}return e.toDataURL("image/png")},submit(){this.isSubmting=!0;const e=Math.abs(this.pinX-(this.styleWidth-this.sliderBaseSize)+(this.puzzleBaseSize-this.sliderBaseSize)*((this.styleWidth-this.sliderBaseSize)/(this.canvasWidth-this.sliderBaseSize))-3);e<this.range?(this.infoText=this.successText,this.infoBoxFail=!1,this.infoBoxShow=!0,this.isCanSlide=!1,this.isSuccess=!0,clearTimeout(this.timer1),this.timer1=setTimeout(()=>{this.isSubmting=!1,this.$emit("success",e)},800)):(this.infoText=this.failText,this.infoBoxFail=!0,this.infoBoxShow=!0,this.isCanSlide=!1,this.$emit("fail",e),clearTimeout(this.timer1),this.timer1=setTimeout(()=>{this.isSubmting=!1,this.reset()},800))},resetState(){this.infoBoxFail=!1,this.infoBoxShow=!1,this.isCanSlide=!1,this.isSuccess=!1,this.startWidth=this.sliderBaseSize,this.startX=0,this.newX=0},reset(){this.isSubmting||(this.resetState(),this.init())}}},s=n(379),a=n.n(s),o=n(795),r=n.n(o),c=n(569),l=n.n(c),h=n(565),u=n.n(h),d=n(216),p=n.n(d),g=n(589),f=n.n(g),m=n(358),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=l().bind(null,"head"),v.domAPI=r(),v.insertStyleElement=p(),a()(m.Z,v),m.Z&&m.Z.locals&&m.Z.locals;var w=function(e,t,n,i,s,a,o,r){var c,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loading-gif_"},[n("span"),e._v(" "),n("span"),e._v(" "),n("span"),e._v(" "),n("span"),e._v(" "),n("span")])}],l._compiled=!0),c)if(l.functional){l._injectStyles=c;var h=l.render;l.render=function(e,t){return c.call(t),h(e,t)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:l}}(t,e);w.options.__file="src/app.vue";var b=w.exports}(),i}()})},1169:function(e,t,n){var i=n("2d95");e.exports=Array.isArray||function(e){return"Array"==i(e)}},1552:function(e,t,n){e.exports=n.p+"img/test.81fe39a1.png"},"3b2b":function(e,t,n){var i=n("7726"),s=n("5dbc"),a=n("86cc").f,o=n("9093").f,r=n("aae3"),c=n("0bfb"),l=i.RegExp,h=l,u=l.prototype,d=/a/g,p=/a/g,g=new l(d)!==d;if(n("9e1e")&&(!g||n("79e5")(function(){return p[n("2b4c")("match")]=!1,l(d)!=d||l(p)==p||"/a/i"!=l(d,"i")}))){l=function(e,t){var n=this instanceof l,i=r(e),a=void 0===t;return!n&&i&&e.constructor===l&&a?e:s(g?new h(i&&!a?e.source:e,t):h((i=e instanceof l)?e.source:e,i&&a?c.call(e):t),n?this:u,l)};for(var f=function(e){e in l||a(l,e,{configurable:!0,get:function(){return h[e]},set:function(t){h[e]=t}})},m=o(h),v=0;m.length>v;)f(m[v++]);u.constructor=l,l.prototype=u,n("2aba")(i,"RegExp",l)}n("7a56")("RegExp")},"44b1":function(e,t,n){"use strict";var i=n("e499"),s=n.n(i);s.a},"504c":function(e,t,n){var i=n("9e1e"),s=n("0d58"),a=n("6821"),o=n("52a7").f;e.exports=function(e){return function(t){var n,r=a(t),c=s(r),l=c.length,h=0,u=[];while(l>h)n=c[h++],i&&!o.call(r,n)||u.push(e?[n,r[n]]:r[n]);return u}}},8615:function(e,t,n){var i=n("5ca1"),s=n("504c")(!1);i(i.S,"Object",{values:function(e){return s(e)}})},aae3:function(e,t,n){var i=n("d3f4"),s=n("2d95"),a=n("2b4c")("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==s(e))}},ac6a:function(e,t,n){for(var i=n("cadf"),s=n("0d58"),a=n("2aba"),o=n("7726"),r=n("32e9"),c=n("84f2"),l=n("2b4c"),h=l("iterator"),u=l("toStringTag"),d=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=s(p),f=0;f<g.length;f++){var m,v=g[f],w=p[v],b=o[v],x=b&&b.prototype;if(x&&(x[h]||r(x,h,d),x[u]||r(x,u,v),c[v]=d,w))for(m in i)x[m]||a(x,m,i[m],!0)}},ba9f:function(e,t,n){e.exports=n("c229")},c229:function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var i;function s(e){return["image/png","image/jpeg","image/gif"].some(t=>t===e)}n.r(t),n.d(t,"canvastoDataURL",function(){return o}),n.d(t,"canvastoFile",function(){return r}),n.d(t,"dataURLtoFile",function(){return l}),n.d(t,"dataURLtoImage",function(){return h}),n.d(t,"downloadFile",function(){return u}),n.d(t,"filetoDataURL",function(){return d}),n.d(t,"imagetoCanvas",function(){return g}),n.d(t,"urltoBlob",function(){return f}),n.d(t,"urltoImage",function(){return m}),n.d(t,"compress",function(){return w}),n.d(t,"compressAccurately",function(){return b}),n.d(t,"EImageType",function(){return i}),function(e){e.PNG="image/png",e.JPEG="image/jpeg",e.GIF="image/gif"}(i||(i={}));var a=function(e,t,n,i){return new(n||(n=Promise))(function(s,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function r(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,r)}c((i=i.apply(e,t||[])).next())})};function o(e,t=.92,n=i.JPEG){return a(this,void 0,void 0,function*(){return s(n)||(n=i.JPEG),e.toDataURL(n,t)})}function r(e,t=.92,n=i.JPEG){return new Promise(i=>e.toBlob(e=>i(e),n,t))}var c=function(e,t,n,i){return new(n||(n=Promise))(function(s,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function r(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,r)}c((i=i.apply(e,t||[])).next())})};function l(e,t){return c(this,void 0,void 0,function*(){const n=e.split(",");let i=n[0].match(/:(.*?);/)[1];const a=atob(n[1]);let o=a.length;const r=new Uint8Array(o);for(;o--;)r[o]=a.charCodeAt(o);return s(t)&&(i=t),new Blob([r],{type:i})})}function h(e){return new Promise((t,n)=>{const i=new Image;i.onload=()=>t(i),i.onerror=()=>n(new Error("dataURLtoImage(): dataURL is illegal")),i.src=e})}function u(e,t){const n=document.createElement("a");n.href=window.URL.createObjectURL(e),n.download=t||Date.now().toString(36),document.body.appendChild(n);const i=document.createEvent("MouseEvents");i.initEvent("click",!1,!1),n.dispatchEvent(i),document.body.removeChild(n)}function d(e){return new Promise(t=>{const n=new FileReader;n.onloadend=e=>t(e.target.result),n.readAsDataURL(e)})}var p=function(e,t,n,i){return new(n||(n=Promise))(function(s,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function r(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,r)}c((i=i.apply(e,t||[])).next())})};function g(e,t={}){return p(this,void 0,void 0,function*(){const n=Object.assign({},t),i=document.createElement("canvas"),s=i.getContext("2d");let a,o;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e]=Number(n[e]));if(n.scale){const t=n.scale>0&&n.scale<10?n.scale:1;o=e.width*t,a=e.height*t}else o=n.width||n.height*e.width/e.height||e.width,a=n.height||n.width*e.height/e.width||e.height;switch([5,6,7,8].some(e=>e===n.orientation)?(i.height=o,i.width=a):(i.height=a,i.width=o),n.orientation){case 3:s.rotate(180*Math.PI/180),s.drawImage(e,-i.width,-i.height,i.width,i.height);break;case 6:s.rotate(90*Math.PI/180),s.drawImage(e,0,-i.width,i.height,i.width);break;case 8:s.rotate(270*Math.PI/180),s.drawImage(e,-i.height,0,i.height,i.width);break;case 2:s.translate(i.width,0),s.scale(-1,1),s.drawImage(e,0,0,i.width,i.height);break;case 4:s.translate(i.width,0),s.scale(-1,1),s.rotate(180*Math.PI/180),s.drawImage(e,-i.width,-i.height,i.width,i.height);break;case 5:s.translate(i.width,0),s.scale(-1,1),s.rotate(90*Math.PI/180),s.drawImage(e,0,-i.width,i.height,i.width);break;case 7:s.translate(i.width,0),s.scale(-1,1),s.rotate(270*Math.PI/180),s.drawImage(e,-i.height,0,i.height,i.width);break;default:s.drawImage(e,0,0,i.width,i.height)}return i})}function f(e){return fetch(e).then(e=>e.blob())}function m(e){return new Promise((t,n)=>{const i=new Image;i.onload=()=>t(i),i.onerror=()=>n(new Error("urltoImage(): Image failed to load, please check the image URL")),i.src=e})}var v=function(e,t,n,i){return new(n||(n=Promise))(function(s,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function r(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,r)}c((i=i.apply(e,t||[])).next())})};function w(e,t={}){return v(this,void 0,void 0,function*(){if(!(e instanceof Blob))throw new Error("compress(): First arg must be a Blob object or a File object.");if("object"!=typeof t&&(t=Object.assign({quality:t})),t.quality=Number(t.quality),Number.isNaN(t.quality))return e;const n=yield d(e);let a=n.split(",")[0].match(/:(.*?);/)[1],r=i.JPEG;s(t.type)&&(r=t.type,a=t.type);const c=yield h(n),u=yield g(c,Object.assign({},t)),p=yield o(u,t.quality,r),f=yield l(p,a);return f.size>e.size?e:f})}function b(e,t={}){return v(this,void 0,void 0,function*(){if(!(e instanceof Blob))throw new Error("compressAccurately(): First arg must be a Blob object or a File object.");if("object"!=typeof t&&(t=Object.assign({size:t})),t.size=Number(t.size),Number.isNaN(t.size))return e;if(1024*t.size>e.size)return e;t.accuracy=Number(t.accuracy),(!t.accuracy||t.accuracy<.8||t.accuracy>.99)&&(t.accuracy=.95);const n=t.size*(2-t.accuracy)*1024,a=1024*t.size,r=t.size*t.accuracy*1024,c=yield d(e);let u=c.split(",")[0].match(/:(.*?);/)[1],p=i.JPEG;s(t.type)&&(p=t.type,u=t.type);const f=yield h(c),m=yield g(f,Object.assign({},t));let v,w=.5;const b=[null,null];for(let e=1;e<=7;e++){v=yield o(m,w,p);const t=.75*v.length;if(7===e){(n<t||r>t)&&(v=[v,...b].filter(e=>e).sort((e,t)=>Math.abs(.75*e.length-a)-Math.abs(.75*t.length-a))[0]);break}if(n<t)b[1]=v,w-=Math.pow(.5,e+1);else{if(!(r>t))break;b[0]=v,w+=Math.pow(.5,e+1)}}const x=yield l(v,u);return x.size>e.size?e:x})}}])})},cd1c:function(e,t,n){var i=n("e853");e.exports=function(e,t){return new(i(e))(t)}},d25f:function(e,t,n){"use strict";var i=n("5ca1"),s=n("0a49")(2);i(i.P+i.F*!n("2f21")([].filter,!0),"Array",{filter:function(e){return s(this,e,arguments[1])}})},e499:function(e,t,n){},e853:function(e,t,n){var i=n("d3f4"),s=n("1169"),a=n("2b4c")("species");e.exports=function(e){var t;return s(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!s(t.prototype)||(t=void 0),i(t)&&(t=t[a],null===t&&(t=void 0))),void 0===t?Array:t}},fcf4:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("HeaderNoRight"),n("div",{staticClass:"register_box"},[n("div",{staticClass:"easy_photo box"}),n("div",{staticClass:"register box"},[n("div",{},[n("h3",[e._v("注册")]),n("div",{staticClass:"register_form"},[n("div",{directives:[{name:"show",rawName:"v-show",value:25==e.percentage,expression:"percentage == 25"}],staticClass:"msg_input"},[n("el-input",{directives:[{name:"show",rawName:"v-show",value:25==e.percentage,expression:"percentage == 25"}],class:{mistaken:!e.isTrueSNo},attrs:{type:"text",placeholder:"学  号","prefix-icon":"el-icon-user"},on:{change:e.checkSNo},model:{value:e.loginMessage.studentID,callback:function(t){e.$set(e.loginMessage,"studentID",t)},expression:"loginMessage.studentID"}}),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.isTrueSNo,expression:"!isTrueSNo"}],staticClass:"msg"},[e._v("请输入合法学号")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:25==e.percentage,expression:"percentage == 25"}],staticClass:"msg_input"},[n("el-input",{directives:[{name:"show",rawName:"v-show",value:25==e.percentage,expression:"percentage == 25"}],class:{mistaken:!e.isTruePhone},attrs:{type:"text",placeholder:"手机号","prefix-icon":"el-icon-mobile-phone"},on:{change:e.checkPhone},model:{value:e.loginMessage.phone,callback:function(t){e.$set(e.loginMessage,"phone",t)},expression:"loginMessage.phone"}}),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.isTruePhone,expression:"!isTruePhone"}],staticClass:"msg"},[e._v("请输入合法手机号")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:25==e.percentage,expression:"percentage == 25"}],staticClass:"msg_input"},[n("el-input",{directives:[{name:"show",rawName:"v-show",value:25==e.percentage,expression:"percentage == 25"}],attrs:{type:"text",placeholder:"昵  称","prefix-icon":"el-icon-user-solid"},model:{value:e.loginMessage.userName,callback:function(t){e.$set(e.loginMessage,"userName",t)},expression:"loginMessage.userName"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:50==e.percentage,expression:"percentage == 50"}],staticClass:"msg_input"},[n("el-select",{directives:[{name:"show",rawName:"v-show",value:50==e.percentage,expression:"percentage == 50"}],staticClass:"college",attrs:{placeholder:"请选择院系","prefix-icon":"el-icon-location-outline"},model:{value:e.loginMessage.college,callback:function(t){e.$set(e.loginMessage,"college",t)},expression:"loginMessage.college"}},e._l(e.faculties,function(e){return n("el-option",{key:e.coid,attrs:{label:e.name,value:e.coid}})}),1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:50==e.percentage,expression:"percentage == 50"}],staticClass:"msg_input"},[n("el-input",{directives:[{name:"show",rawName:"v-show",value:50==e.percentage,expression:"percentage == 50"}],attrs:{type:"text",placeholder:"真实姓名","prefix-icon":"el-icon-user"},model:{value:e.loginMessage.realName,callback:function(t){e.$set(e.loginMessage,"realName",t)},expression:"loginMessage.realName"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:50==e.percentage,expression:"percentage == 50"}],staticClass:"msg_input"},[n("el-input",{directives:[{name:"show",rawName:"v-show",value:50==e.percentage,expression:"percentage == 50"}],class:{mistaken:!e.isTrueMail},attrs:{type:"text",placeholder:"电子邮箱","prefix-icon":"el-icon-message"},on:{change:e.checkMail},model:{value:e.loginMessage.email,callback:function(t){e.$set(e.loginMessage,"email",t)},expression:"loginMessage.email"}}),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.isTrueMail,expression:"!isTrueMail"}],staticClass:"msg"},[e._v("请输入合法的电子邮箱")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:75==e.percentage,expression:"percentage == 75"}],staticClass:"register_3"},[n("el-select",{staticClass:"sex",attrs:{placeholder:"性别","prefix-icon":"el-icon-location-outline"},model:{value:e.loginMessage.sex,callback:function(t){e.$set(e.loginMessage,"sex",t)},expression:"loginMessage.sex"}},e._l(e.sexs,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),n("el-date-picker",{staticClass:"date",attrs:{type:"date",placeholder:"生日",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.loginMessage.birth,callback:function(t){e.$set(e.loginMessage,"birth",t)},expression:"loginMessage.birth"}})],1),n("el-upload",{directives:[{name:"show",rawName:"v-show",value:75==e.percentage,expression:"percentage == 75"}],staticClass:"avatar-uploader",attrs:{action:"#","http-request":e.HttpRequest,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageBASE64?n("img",{staticClass:"avatar",attrs:{src:e.imageBASE64}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("上传jpg/png头像,上传图片不大于5M")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:100==e.percentage,expression:"percentage == 100"}],staticClass:"msg_input"},[n("el-input",{directives:[{name:"show",rawName:"v-show",value:100==e.percentage,expression:"percentage == 100"}],class:{mistaken:!e.passwordLen},attrs:{"auto-complete":"new-password",type:"password",placeholder:"密码(至少8位)","prefix-icon":"el-icon-key"},on:{change:e.checkPasswordLen},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:100==e.percentage,expression:"percentage == 100"}],staticClass:"msg_input"},[n("el-input",{directives:[{name:"show",rawName:"v-show",value:100==e.percentage,expression:"percentage == 100"}],class:{mistaken:!e.isTruePassword},attrs:{type:"password",placeholder:"确认密码","prefix-icon":"el-icon-key"},on:{input:e.checkPassword},model:{value:e.isPassword,callback:function(t){e.isPassword=t},expression:"isPassword"}}),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.isTruePassword,expression:"!isTruePassword"}],staticClass:"msg"},[e._v("与第一次密码不一致，请重新输入")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:100==e.percentage,expression:"percentage == 100"}]},[n("PuzzleVcode",{attrs:{onCode:e.isVerify},on:{"update:onCode":function(t){e.isVerify=t},"update:on-code":function(t){e.isVerify=t}}})],1),n("div",{staticClass:"form_btn"},[n("el-button-group",[e.percentage>25?n("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left"},on:{click:e.decrease}},[e._v("上一步")]):e._e(),e.percentage<=75?n("el-button",{attrs:{type:"primary"},on:{click:e.increase}},[e._v("下一步"),n("i",{staticClass:"el-icon-arrow-right el-icon--right"})]):e._e(),100==e.percentage?n("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("立即注册"),n("i",{staticClass:"el-icon-arrow-right el-icon--right"})]):e._e()],1)],1)],1),n("div",{staticClass:"steps_box"},[n("el-progress",{attrs:{percentage:e.percentage,color:e.customColor}})],1),n("div",{staticClass:"register_links"},[n("router-link",{attrs:{to:{path:"/login"},underline:!1}},[e._v("已有账号？前往登录")])],1)])])])],1)},s=[],a=(n("ac6a"),n("8615"),n("d25f"),n("3b2b"),n("6323")),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Vcode",{attrs:{imgs:[e.imag1],show:e.isShow},on:{success:e.onSuccess,close:e.onClose}}),n("el-button",{on:{click:e.submit}},[e._v("人工验证")])],1)},r=[],c=n("1069"),l=n.n(c),h=n("1552"),u=n.n(h),d={data:function(){return{isShow:!1,code:0,imag1:u.a}},components:{Vcode:l.a},methods:{submit:function(){this.isShow=!0,this.code=0,this.onCode()},onSuccess:function(e){this.isShow=!1,this.code=1,this.onCode()},onClose:function(){this.isShow=!1},onCode:function(){this.$emit("update:onCode",this.code)}}},p=d,g=n("2877"),f=Object(g["a"])(p,o,r,!1,null,"f429556c",null),m=f.exports,v=(n("4328"),n("1c46")),w=n.n(v),b=n("5c96"),x=n("ba9f"),y={userName:"Register",data:function(){return{faculties:null,sexs:[{value:"0",label:"男"},{value:"1",label:"女"}],time:null,notify:null,percentage:25,customColor:"#f2a373",isPassword:"",password:"",imageBASE64:"",loginMessage:{studentID:"",phone:"",userName:"",college:"",realName:"",email:"",sex:"",birth:"",headImage:"http://172.20.216.24:11119/images/default.jpg",password:""},isTrueSNo:!0,isTruePhone:!0,isTrueMail:!0,passwordLen:!0,isTruePassword:!0,isVerify:0}},components:{HeaderNoRight:a["a"],PuzzleVcode:m},methods:{increase:function(){var e=this;null!==this.notify&&this.notify.close();var t=this.percentage;if(25===t&&this.notNull&&this.standart){var n=b["Loading"].service({fullscreen:!0}),i={studentID:this.loginMessage.studentID,phone:this.loginMessage.phone};this.$api.uniVariable(i).then(function(t){n.close(),0!==t.data.data.code?(e.percentage=25,e.notify=e.$message.error({message:t.data.data.msg})):e.percentage+=25})}else if(75===t&&this.notNull&&this.standart){var s=b["Loading"].service({fullscreen:!0});this.$api.uploadImage({imageBASE64:this.imageBASE64}).then(function(t){s.close(),0===t.data.data.code?(e.percentage+=25,e.loginMessage.headImage=t.data.data.msg):(e.percentage=75,e.notify=e.$message.error({message:t.data.data.msg}))})}else this.notNull&&this.standart?(this.percentage+=25,this.percentage>100&&(this.percentage=100)):this.notify=this.$message.error("请确认填写信息！")},decrease:function(){this.percentage-=25,this.percentage<0&&(this.percentage=0)},beforeAvatarUpload:function(e){var t=this,n="image/jpeg"===e.type||"image/png"===e.type,i=e.size/1024/1024<5,s=new FileReader;return n&&i?x.compressAccurately(e,{size:48}).then(function(e){s.readAsDataURL(e),s.onload=function(){t.imageBASE64=s.result,console.log(e)}}):n?i||this.$message.error("上传头像图片不大于5M"):this.$message.error("上传头像图片只能是 JPG 或 PNG 格式!"),!1},HttpRequest:function(e){},handleAvatarSuccess:function(e,t){this.headImage=URL.createObjectURL(t.raw)},checkSNo:function(){var e=/^\d{1,}$/,t=new RegExp(e),n=this.loginMessage.studentID.length,i=t.test(this.loginMessage.studentID);null!=this.notify&&this.notify.close(),(n>15||n<8)&&i?(this.isTrueSNo=!1,this.notify=n>15?this.$message.error({title:"输入信息有误",message:"亲，输入的学号过长！"}):this.$message.error({title:"输入信息有误",message:"亲，输入的学号过短！"})):i?this.isTrueSNo=!0:(this.isTrueSNo=!1,this.notify=this.$message.error({title:"输入信息有误",message:"亲，学号只能包含数字！"})),""===this.loginMessage.studentID&&(this.isTrueSNo=!0)},checkPhone:function(){var e=/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/,t=this.loginMessage.phone.length;null!=this.notify&&this.notify.close(),""!==this.loginMessage.phone&&(t>11||t<11)?e.test(this.loginMessage.phone)||(this.isTruePhone=!1,this.notify=this.$message.error({title:"输入信息有误",message:"亲，请输入正确的手机号码！"})):this.isTruePhone=!0},checkMail:function(){var e=/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/;""==this.loginMessage.email||e.test(this.loginMessage.email)?this.isTrueMail=!0:this.isTrueMail=!1},checkPasswordLen:function(){""!=this.password&&this.password.length<8?(this.passwordLen=!1,this.notify=this.$message.error({title:"密码格式错误",message:"密码不少于8位字符！"})):this.passwordLen=!0},checkPassword:function(){var e=this;null!=this.time&&clearTimeout(this.time),this.time=setTimeout(function(){null!=e.notify&&e.notify.close(),e.isPassword.length>0&&e.password===e.isPassword?e.isTruePassword=!0:(e.isTruePassword=!1,e.isPassword.length==e.password.length&&(e.notify=e.$message.error({title:"密码不一致",message:"亲，请重新确认密码！"})))},600)},submit:function(){var e=this;if(null!==this.notify&&this.notify.close(),this.standart&&this.notNull){var t=w.a.createHash("md5");t.update(this.password),this.loginMessage.password=t.digest("hex"),this.$api.register(this.loginMessage).then(function(t){0===t.data.data.code?(e.$message({type:"success",message:"".concat(t.data.data.msg)}),e.$router.push({path:"/login",params:{studentID:e.studentID,password:e.password}})):e.$message.success({title:"请求状态",message:t.data.data.msg})})}else this.isTruePassword&&this.passwordLen&&this.notNull?this.notify=this.$message.error("请进行人机验证！"):this.notify=this.$message.error("请确认填写信息！")}},computed:{standart:function(){var e=!1;return 25===this.percentage?e=this.isTrueSNo&&this.isTruePhone:50===this.percentage?e=this.isTrueMail:75===this.percentage?e=""!==this.imageBASE64:100===this.percentage&&(e=this.passwordLen&&this.isTruePassword&&1===this.isVerify),e},notNull:function(){var e=!1,t=Object.values(this.loginMessage).filter(function(e){if(""!==e)return!0});return 25===this.percentage?e=t.length>=3:50===this.percentage?e=t.length>=6:75===this.percentage?e=t.length>=8:100===this.percentage&&(e=t.length>=9&&""!==this.password&&""!==this.isPassword),e}},watch:{percentage:function(e){var t=this;if(50===e){var n=b["Loading"].service({fullscreen:!0});this.$api.getCollegeList().then(function(e){n.close(),-1===e.data.data.result?t.$message.error({message:e.data.data.msg}):t.faculties=e.data.data.college})}}}},_=y,S=(n("44b1"),Object(g["a"])(_,i,s,!1,null,"d28e04a2",null));t["default"]=S.exports}}]);
//# sourceMappingURL=chunk-5af52a4b.c597666c.js.map